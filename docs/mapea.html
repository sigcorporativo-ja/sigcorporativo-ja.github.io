<h2>Mapea</h2>

<ul class="nav nav-pills">
    <li class="nav-item"><a class="nav-link active" data-toggle="pill" href="#descripcion">Descripción</a></li>
    <li class="nav-item"><a class="nav-link" data-toggle="pill" href="#uso">Uso</a></li>
    <li class="nav-item"><a class="nav-link" data-toggle="pill" href="#ejemplos">Ejemplos</a></li>
</ul>

<div class="tab-content">
    <!-- Tab de Descripcion -->
    <div id="descripcion" class="tab-pane active" role="tabpanel" >
        <p>
            <p>
                Mapea es una librería javascript para la construcción de visualizadores de mapas. 
                Ofrece una capa de abstracción o <b>fachada</b>, colocada sobre una capa de <b>implementación</b> 
                tecnológica open source, como puede ser Open Layers. Esta fachada:
                <ul>
                    <li>Es de uso sencillo y ofrece funcionalidades comunes en la construcción de visualizadores de mapas, tales como: intérprete de contextos de mapas,
                        filtros alfanuméricos y espaciales para capas vectoriales, o integración con otros servicios del SIGCorporativo (geocodificación, geoprint, etc.), entre otros.
                    </li>
                    <li>Énfasis en la retrocompatibilidad y en la estabilidad de la capa de fachada, de modo que nuevas versiones de la librería de mapas subyacientes se van actualizando 
                        de manera centralizada y transparente al usuario, cuyo visor sigue siendo compatible.
                    </li>
                    <li>Posee diseño responsive para su uso desde dispositivos móviles.
                    </li>
                </ul>
                Para conocer en detalle las características funcionales de Mapea, recomendamos visitar la wiki del proyecto en Github:
            </p>
            <p style="text-align: center">
                <a target="_blank" href="https://github.com/sigcorporativo-ja/Mapea4/wiki" class="btn btn-info btn-lg" 
                style="color:white;text-decoration: none">Accede a la WIKI</a>
            </p>
            <p>    
                    <div id="divmap" style="width:75%;box-sizing: unset !important;position: relative;left:12%" class="m-container"></div>
            </p>

        </p>
    </div>
    <!-- Tab de Uso -->
    <div id="uso" class="tab-pane" role="tabpanel">
       <p>Para construir o integrar un visor de mapas con Mapea, existen dos opciones en forma de API:</p>
       <ul><li> <b>API Javascript</b>: importa la librería y programa tu mapa en un div de la página.</p>
        <div>
            <iframe width="75%" src="//jsfiddle.net/sigcJunta/t8d0safo/embedded/js,html,css/" 
                   frameborder="0"></iframe>
        </div></li>

        <li><b>API REST</b>: genera el mapa automáticamente mediante una url, que puede ser fuente de un   
            <b>iframe</b>, o de un elemento <b>script</b> a través de una función de callback.</p>
        <div>
            <iframe width="75%" src="//jsfiddle.net/sigcJunta/hzrmo3pf/embedded/html,js,css/" 
                   frameborder="0"></iframe>
        </div></li>
        </ul>

        <br>
        <p>Por otro lado, en Mapea se fomenta el concepto de <b>plugin</b>, que no es más que una manera de empaquetar la lógica, utilizando 
            una estructura bien definida y una serie de clases que garantizan la compatibilidad y homogeneidad de uso. Para facilitar la labor de los 
            desarrolladores, existe una <a href="https://github.com/sigcorporativo-ja/Mapea4-dev-webpack" target="_blank">herramienta de construcción de 
            plugins</a>, con una <a href="https://github.com/sigcorporativo-ja/Mapea4-dev-webpack/wiki" target="_blank">wiki propia</a>.</p>

        <p>Respecto a los plugins ya existentes, pueden clasificarse en:
            <ul>
                <li>Aquellos que pertenecen al núcleo de Mapea (consulta <a href="https://github.com/sigcorporativo-ja/Mapea4/wiki/Plugins" target="_blank">aquí</a>).</li>
                <li>Aquellos desarrollados por terceros, en cuyo caso su distribución es independiente. Aquellos subidos a github están centralizados en 
                    <a href="https://github.com/sigcorporativo-ja/mapea-plugins" target="blank">este repositorio</a>.
                </li>
            </ul>
        </p>

    </div>
    <div id="ejemplos" class="tab-pane" role="tabpanel">
           
        <!--<p> Casos de uso </p>-->

          <div id="carouselMapea" class="carousel slide" data-ride="carousel" style="width:90%; margin: 0 auto">
            <ol class="carousel-indicators">
              <li data-target="#carouselMapea" data-slide-to="0" class="active"></li>
              <li data-target="#carouselMapea" data-slide-to="1"></li>
              <li data-target="#carouselMapea" data-slide-to="2"></li>
              <li data-target="#carouselMapea" data-slide-to="3"></li>
            </ol>
            <div class="carousel-inner">
              <div class="carousel-item active">
                    <p style="text-align:center"><a href="http://www.ideandalucia.es/visor" target="_blank">IDEAVisor</a></p>
                    <img class="d-block w-100" src="./img/visoridea.png" alt="Visor IDEAndalucia">
                    <!--<div class="carousel-caption d-none d-md-block">
                            <h5 style="text-shadow: 0.1em 0.1em 0.2em black">Visor IDEAndalucía</h5>
                            <p style="text-shadow: 0.1em 0.1em 0.2em black">http://www.ideandalucia.es/visor</p>
                          </div>-->
              </div>
              <div class="carousel-item">
                    <p style="text-align:center"><a href="http://www.callejerodeandalucia.es" target="_blank">Callejero Digital de Andalucía</a></p>
                    <img class="d-block w-100" src="./img/cdau.png" alt="Callejero Digital de Andalucía Unificado">
                    <!--<div class="carousel-caption d-none d-md-block">
                        <h5 style="text-shadow: 0.1em 0.1em 0.2em black">Callejero Digital de Andalucía Unificado</h5>
                        <p style="text-shadow: 0.1em 0.1em 0.2em black">http://www.callejerodeandalucia.es</p>
                    </div>-->
              </div>
              <div class="carousel-item">
                <p style="text-align:center"><a href="https://ws040.juntadeandalucia.es/mapafosas" target="_blank">Mapa Fosas</a></p>
                <img class="d-block w-100" src="./img/mapafosas.png" alt="Mapa Fosas">
                <!--<div class="carousel-caption d-none d-md-block">
                    <h5 style="text-shadow: 0.5em 0.1em 0.5em black">Mapa Fosas</h5>
                    <p style="text-shadow: 0.5em 0.1em 0.5em black">https://ws040.juntadeandalucia.es/mapafosas</p>
                </div>-->
              </div>
              <div class="carousel-item">
                <p style="text-align:center"><a href="https://ws058.juntadeandalucia.es/mss/centros.jsp" target="_blank">Servicios Sociales</a></p>
                <img class="d-block w-100" src="./img/centros.png" alt="Centros">
                <!--<div class="carousel-caption d-none d-md-block">
                    <h5 style="text-shadow: 0.5em 0.1em 0.5em black">Mapa de Servicios Sociales</h5>
                    <p style="text-shadow: 0.5em 0.1em 0.5em black">https://ws058.juntadeandalucia.es/mss/centros.jsp</p>
                </div>-->
              </div>
            </div>
            <a class="carousel-control-prev" href="#carouselMapea" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselMapea" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
            <!--<a class="carousel-control-prev" href="#carouselMapea" data-slide="prev">
                <i class="fa fa-chevron-left fa-3x"></i>
            </a>
            <a class="carousel-control-next" href="#carouselMapea" data-slide="next">
                <i class="fa fa-chevron-right fa-3x""></i>
            </a>-->
          </div>
        
           
            <!--<div>
                <iframe width="100%" src="//jsfiddle.net/sigcJunta/8pxdf1ea/embedded/js/" 
                    height="500" frameborder="0"></iframe>
            </div>-->
    </div>

</div>
<script lang="javascript">

    var mapajs = null;
    /*$('.nav-pills a[href="#ejemplos"]').on('shown.bs.tab', function (e) {
       if (!mapajs){ */
            mapajs = M.map({
                container: 'divmap',
                controls: ['layerswitcher','scale','panzoombar'],
                wmcfiles: ['https://mapea4-sigc.juntadeandalucia.es/files/wmc/cdau.xml*Callejero','https://mapea4-sigc.juntadeandalucia.es/files/wmc/satelite.xml*Satelite']
            });
        /*}
    });*/


    
</script>